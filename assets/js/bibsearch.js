import{highlightSearchTerm}from"./highlight-search-term.js";document.addEventListener("DOMContentLoaded",function(){const e=e=>{document.querySelectorAll(".bibliography, .unloaded").forEach(e=>e.classList.remove("unloaded"));if(CSS.highlights){const t=highlightSearchTerm({search:e,selector:".bibliography > li"});if(t==null){return}t.forEach(e=>{e.classList.add("unloaded")})}else{document.querySelectorAll(".bibliography > li").forEach((t,l)=>{const n=t.innerText.toLowerCase();if(n.indexOf(e)==-1){t.classList.add("unloaded")}})}document.querySelectorAll("h2.bibliography").forEach(function(e){let t=e.nextElementSibling;let l=true;while(t&&t.tagName!=="H2"){if(t.tagName==="OL"){const e=t;const n=e.querySelectorAll(":scope > li.unloaded");const o=e.querySelectorAll(":scope > li");if(n.length===o.length){e.previousElementSibling.classList.add("unloaded");e.classList.add("unloaded")}else{l=false}}t=t.nextElementSibling}if(l){e.classList.add("unloaded")}})};const t=()=>{const t=decodeURIComponent(window.location.hash.substring(1));document.getElementById("bibsearch").value=t;e(t)};let l;document.getElementById("bibsearch").addEventListener("input",function(){clearTimeout(l);const t=this.value.toLowerCase();l=setTimeout(e(t),300)});window.addEventListener("hashchange",t);t()});